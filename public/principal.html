<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>SGPB</title>

        
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
        integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        

        <link rel="stylesheet" href="./css/main.css">
       
        <link rel="stylesheet" href="./css/sidebar-themes.css">
        <link rel="shortcut icon"  href="./images/1.ico" />
        
        <script src="documento.js"></script>
       
    </head>
    <style>
    td.details-control {
        background: url('./images/detailsblue-abrir.png') no-repeat center center;
        cursor: pointer;
      }
      tr.shown td.details-control {
        background: url('./images/detailsblue-cerrar.png') no-repeat center center;
      }
      .contents > div {
        display: none;
      }
      .btn-circle.btn-xl {
        width: 70px;
        height: 70px;
        padding: 10px 16px;
        border-radius: 35px;
        font-size: 24px;
        line-height: 1.33;
      }
      #imagenf{  
      
        background-size: cover;
        position: relative;
        display: flex;
        flex-flow: row;
        width: 100%;
        height: 100%;
   
      }
    </style>
    
<body id = "pantallap">
    <div class="page-wrapper default-theme sidebar-bg  toggled">
        <nav id="sidebar" class="sidebar-wrapper">
            <div class="sidebar-content">
               
                <div class="sidebar-item sidebar-brand">
                    <a style="margin-left:-1px;font-size:28px" href="#">SGPB</a>           
                </div>
               
                <div class="sidebar-item sidebar-header d-flex flex-nowrap" style="margin-left:-10px">
                    <form id="form1">
                        <div class="alert">
                            <div class="user-info">
                               <strong><span id="usrnombre" style="text-align:left;font-size:17px" class="user-name"></strong>
                               </span>    
        
                            </div>
                       </div>
                       <div id='img_contain'><img id="imagenf"></div> 
                       <div class="input-group"> 
                           <div class="custom-file">
                               <input type="file" id="file" class="imgInp custom-file-input" aria-describedby="inputGroupFileAddon01">
                               <label class="custom-file-label" for="file">Archivo</label>
                           </div>
                       </div>
                    </form>
                </div>
              
                <div class="sidebar-item sidebar-search">
                    <div>
                        <div class="input-group">
                            <div class="input-group-append">
                               
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class=" sidebar-item sidebar-menu">
                    <ul>
                        <li class="header-menu">
                            <span>General</span>
                        </li>
                        <li class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-search"></i>
                                <span class="menu-text">Consultas</span>    
                            </a>
                            <div  class="sidebar-submenu">
                                <ul>
                                   
                                    <li>
                                        <a  data-menu-item="dconsultas" onclick="Info_doc(plano.nombre_tabla,plano.nombre)" class="personal-menu-item dconsultas" href="#">Planos
                                            <script type="text/javascript">
                                               var plano = new Plano("Planos","planos");
                                               console.log(plano.nombre_tabla);
                                               console.log(plano.nombre);
                                            </script>
                                        </a>         
                                    </li>
                                    <li>
                                        <a data-menu-item="dconsultas" onclick="Info_doc(manual.nombre_tabla,manual.nombre)" class="personal-menu-item dconsultasm" href="#">Manuales</a>
                                        <script type="text/javascript">
                                           var manual = new Manual("Manuales","manuales");

                                        </script>    
                                    </li>
                                    <li>
                                        <a data-menu-item="dconsultas" onclick="Info_doc(material.nombre_tabla,material.nombre)" class="personal-menu-item dconsultasm" href="#">Lista de Materiales</a>
                                        <script type="text/javascript">
                                            var material = new Material("Lista de Materiales","materiales");
                                        </script>    
                                    </li>

                                    <li>
                                        <a data-menu-item="dconsultas" onclick="Info_doc(instructivo_ensayo.nombre_tabla,instructivo_ensayo.nombre)" class="personal-menu-item dconsultasm" href="#">Instructivos de Ensayo</a>
                                        <script type="text/javascript">
                                            var instructivo_ensayo = new InstructivoEnsayo("Instructivos de Ensayo","instructivodeensayos");
                                        </script>    
                                    </li>
                                    <li>
                                        <a data-menu-item="dconsultas" onclick="Info_doc(instructivo_produccion.nombre_tabla,instructivo_produccion.nombre)" class="personal-menu-item dconsultasm" href="#">Instructivos de Producción</a>
                                        <script type="text/javascript">
                                            var instructivo_produccion = new InstructivoProduccion("Instructivos de Producción","instructivodeproducciones");
                                        </script>    
                                    </li>

                                    <li>
                                        <a data-menu-item="dconsultas" onclick="Info_doc(subinstructivo_produccion.nombre_tabla,subinstructivo_produccion.nombre)" class="personal-menu-item dconsultasm" href="#">Subinstructivos de Ensayo</a>
                                        <script type="text/javascript">
                                            var subinstructivo_produccion = new SubinstructivoProduccion("Subinstructivos de Producción","subinstructivodeproducciones");
                                        </script>    
                                    </li>
                                </ul>
                                
                            </div>    
                        </li>
                        <li id= "clickpendiente" class="sidebar-dropdown">
                            <a href="#">
                                <i class="fa fa-clock"></i>
                                <span class="menu-text">Pendientes</span> 
                                <i  class="fa fa-exclamation-triangle"></i>
                            </a>
                            <div class="sidebar-submenu">
                        </li>
                        <li>
                            <a data-menu-item="altaprod" class="personal-menu-item profile altaprod" href="#">
                                <i class="fa fa-laptop"></i>
                                <span >Productos</span>
                            </a>
                            
                        </li>       
                        <li class="header-menu">
                            <span>Extra</span>
                        </li>
                        <li>
                            <a href="#">
                                <i class="fa fa-book"></i>
                                <span class="menu-text">Documentación</span>
                               
                            </a>
                        </li>
                    </ul>    
                </div>    
            </div>    
        </nav>
        <!-- page-content  -->
        <main  class="page-content pt-2">
            <div class="container-fluid p-5 contents">
                <div id="dconsultas">
                    <script type="text/javascript">
                        function Info_doc(nombre_tabla,titulo){    
                            $('#dconsultas').show();
                            $('#content').hide(); 
                            $('#codigo').val("");
                            $('#nrorev').val("");
                            $('#descripcion').val("");       
                            $('#example').dataTable().fnDestroy();
                            $("#example > tbody").html("");
                            console.log("este es el nombre del doc" + " " + titulo);
                            console.log("este es el nombre de la tabla" + " " + nombre_tabla);
                            $('#titulo').text(titulo);
                            $('#bpb').val(nombre_tabla);
                            
                        }    
                    </script>
                    <div class='row'>
                        <div class='form-group col-md-12'>
                            <h2 id="titulo"></h2>
                        </div>
                    </div>
                    <div class='row'>
                    </div>
                    <hr>
                    <form class='form'>
                        <div class='row'>
                            <div class='col-md-8'>
                                <div class='row'>
                                    <div class='col-md-6'>
                                        <label for='codigo'><strong>Código</strong></label>
                                        <input  style='text-transform: uppercase' type='text' class='form-control' id='codigo' placeholder='' value='' required></input>
                                    </div>
                                    <div class='col-md-6'>
                                        <label  for='nrorev'><strong>NroRev</strong></label>
                                        <input  type='number' class='form-control' id='nrorev' placeholder='' value='' required></input>
                                    </div>

                                </div>
                                <div class='row'>
                                    <div class='col-md-12'>
                                        <label for='descripcion'><strong> Descripción</strong></label>
                                        <input type='text' class='form-control' id='descripcion' placeholder='' value='' required>
                                    </div>
                                </div>
                            </div>
                            <div class='col-md-4'>
                                <!--img style='margin-top:-170px' src='./images/logocolores3.png'-->
                                <div class='card' style='width: 18rem;margin-top: -10px'>
                                    <div class='card-header'>
                                        <strong>Estados</strong>
                                    </div>
                                    <ul class='list-group list-group-flush'>
                                        <li class='list-group-item'> <img src='./images/details_green.png'>
                                            Vigente
                                        </li>   
                                        <li class='list-group-item'><img src='./images/details_yellow.png'>
                                            Pendiente de aprobación
                                        </li>   
                                        <li class='list-group-item'><img src='./images/details_red.png'>
                                            No vigente
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div>
                        <button  type='button' id=mybtnAlta onclick='Btnalta()' class='btn btn-info btn-circle btn-xl' data-toggle='tooltip'  title='Alta'><i class='fa fa-plus'></i>
                    </div>
                    <div style='margin-top:20px'>
                        
                        <button id=bpb type='button'  onclick='Consulta()' class='btn btn-primary btn-sm'>Buscar</button>
                        <button id=bpt type='button' onclick='Consulta_t()'style='margin-left:5px' class='btn btn-secondary btn-sm'>Todos</button>    
                    </div>
                    <div id="tableexample" style='margin-left: -15px;margin-top: 40px' class='container'>
                        <table id='example' class='display'>
                            <thead>
                                <tr>
                                    <th style='width: 5px'></th>
                                    <th style='width: 70px'></th>
                                    <th style='width: 350px'></th>
                                    <th style='width: 70px'></th>  
                                </tr>
                            </thead>
                            <tbody>
            
                            </tbody>
                        </table>
                    </div>   
                </div>
                    <div id="content">
                        
                       
                    </div>
            </div>
            <!--Modal nueva revision de un documento-->
            <div class="modal fade" id="myModal_nr" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: #999">
                        <h5 class="modal-title" id="exampleModalLongTitle">Nueva revisión </h5>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid">
                        <div style="margin-top: 5px" class="row">
                            <div style="margin-left:15px" class="col-md-1">
                                <strong>Código</strong>
                            </div>
                            <div class="col-md-2">
                                <input id= "codigo_old_nr" disabled= 'true'style="margin-left: 20px;width: 100px;"></input>
                            </div>
                        </div>  
                        <div style="margin-top: 10px" class="row">
                            <div style="margin-left:20px" class="col-md-1">
                            <strong>N°Rev</strong>   
                            </div>
                            <div class="col-md-2">
                                <input id="nrorev_old_nr" disabled= 'true' style="margin-left: 15px;width: 100px"></input>
                            </div>
                        </div>
                        <div style="margin-top: 10px" class="row">
                            <div class="col-md-2" style="margin-left:-15px">
                                <strong>Descripción</strong>   
                            </div>
                            <div class="col-md-2">
                                <input id="descripcion_old_nr"  disabled= 'true' style="margin-left:10px;width: 367px"></input>
                            </div>  
                        </div>
                        <div style="margin-top: 10px" class= "row">
                            <div style="margin-left:20px" class="col-md-1">
                                <strong>F.Alta</strong>   
                            </div>
                            <div class="col-md-4">
                                <input id="falta_old_nr"  disabled= 'true' style="margin-left: 15px;width: 100px"></input>
                            </div>
                            <div style="margin-top:3px;margin-left:-20px" class="col-md-2">
                                <strong>Usuario</strong>    
                            </div>
                            <div style="margin-left:-5px;width: 100px;" class="col-md-2">
                                <input id="usuarioa_old_nr"  disabled= 'true'></input>
                            </div>
                        </div>
                        <div style="margin-top: 10px" class= "row">
                            <div style="margin-left:-20px" class="col-md-1">
                                <strong>F.Aprobación</strong>   
                            </div>
                            <div class="col-md-4">
                                <input id="faprob_old_nr" disabled= 'true' style="margin-left: 55px;width: 100px"></input>
                            </div>
                            <div style="margin-top:3px;margin-left:20px" class="col-md-2">
                                <strong>Usuario</strong>    
                            </div>
                            <div style="margin-left:-5px;width: 100px;" class="col-md-2">
                                <input id="usuarioapr_old_nr"  disabled= 'true'></input>
                            </div>
                            </div>
                        </div>  
                        <div style="top:20px;;margin-left:-5px;width:470px" class="alert alert-dark" role="alert">
                            <strong>Nueva revisión del documento</strong>  
                        </div>
                        <div style="margin-left:-3px" class="container-fluid">
                            <div style="margin-top:30px" class="row">
                                <div style="margin-left:25px" class="col-md-2">
                                    <strong>N°Rev</strong>
                                </div>
                                <div class="col-md-2">
                                    <input id="nuevarev_new_nr" type="number" disabled= 'true' style="width: 100px;margin-left:-25px"></input>
                                </div>
                                <div style="margin-left:18px" class="col-md-4">
                                    <strong>Fecha Alta</strong>
                                </div>
                                <div style="margin-right: 10px" class="col-md-2">
                                    <input id="fechaalta_new_nr" disabled= 'true' style="width: 175px;margin-left:-80px"></input>
                                </div>
                            </div>
                            <div style="margin-top: 10px" class="row">
                                <div style="margin-left:-10px" class="col-md-2">
                                    <strong>Descripción</strong>
                                </div>
                                <div class="col-md-2">
                                    <input id="descripcion_new_nr" disabled= 'true' style="margin-left:10px;width: 373px"></input>
                                </div>  
                            </div>
                            <div style="margin-top: 10px" class="row">
                                    <strong><label style="margin-left:5px" for="exampleFormControlTextarea1">Comentarios</label></strong>
                                    <textarea class="form-control" id="comentarios_nr" rows="3"></textarea>
                            </div>
                        </div>
                    </div>  
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" onclick="Confirmarnr()" id="signin">Aceptar</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
                </div>
            </div>
             <!--Modal Alta de un documento (plano, manual)-->
            <div class="modal" id="MymodalAlta" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header" style="background-color: #999">
                            <h5 class="modal-title">Alta</h5>
                        </div>
                        <div class="modal-body">
                            <div class="container-fluid">
                                <div style="margin-top: 5px" class="row">
                                    <div style="margin-left:12px" class="col-md-1">
                                    <strong>Código</strong>
                                    </div>
                                    <div class="col-md-2">
                                    <input id= "maxcodigo" style="margin-left: 20px;width: 100px;"></input>
                                    </div>
                                </div>  
                            </div>
                            <div style="margin-top: 10px" class="row">
                                <div style="margin-left:-2px" class="col-md-1">
                                    <strong>Descripción</strong>   
                                </div>
                                <div class="col-md-2">
                                    <input id="descdoc" style="margin-left: 47px;width: 370px"></input>
                                </div>
                            </div>
                            <div style="margin-top: 10px" class="row">
                                <div class="col-md-2" style="margin-left:10px">
                                    <strong>Ubicación</strong>   
                                </div>
                                <div class="col-md-2">
                                    <input id="ubidoc" style="margin-left:-7px;width: 370px"></input>
                                </div>  
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" id ="altadoc" class="btn btn-primary" data-toggle="modal"  class="btn btn-secondary">Aceptar</button>
                            <button type="button" id="CerrarAlta" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                        </div>
                    </div>
                </div>
            </div>

             <!--Modal Alta Lista de Materiales-->
            <div class="modal" id="MymodalAltam" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header" style="background-color: #999">
                            <h5 class="modal-title">Alta</h5>      
                        </div> 
                        <div class="modal-body">
                            <div class="container-fluid">
                                <div style="margin-top: 5px" class="row">
                                    <div style="margin-left:12px" class="col-md-1">
                                        <strong>Producto</strong>
                                    </div>
                                    <div class="col-md-2">
                                        <select id="comboproduct " class="Input" style="margin-left: 30px;width: 100px;">
                                            
                                        </select>
                                    </div>

                                    <div style="margin-left:68px" class="col-md-1">
                                        <button id= "buscarlm" style="width:90px">Buscar
                                            <i class="fa fa-search"></i>
                                        </button>
                                    </div>

                                </div>

                                
                                <div style="margin-top: 20px" class="row">
                                    <div style="margin-left:22px" class="col-md-1">
                                        <strong>Código</strong>
                                    </div>

                                    <div class="col-md-2">
                                        <input id="codigomat"  disabled= 'true' style="margin-left: 20px;width: 100px"></input>
                                    </div>

                                </div>
                                
                                
                            </div>
                            <div style="margin-top: 1px" class="row">
                                
                                <div style="margin-top: 8px" class="row">
                                    <div class="col-md-2" style="margin-left:10px">
                                        <strong style="margin-left:12px">Descripción</strong>   
                                    </div>
                                    <div class="col-md-2">
                                        <input id="desclmat" disabled= 'true' style="margin-left:13px;width: 370px"></input>
                                    </div>  
                                </div>

                                <div style="margin-top: 10px" class="row">
                                    <div class="col-md-2" style="margin-left:10px">
                                        <strong style="margin-left:25px">Ubicación</strong>   
                                    </div>
                                    <div class="col-md-2">
                                        <input id="ubilmat" disabled= 'true' style="margin-left:13px;width: 370px"></input>
                                    </div>  
                                </div>
                            </div>                     
                        </div>
                        <div class="modal-footer">
                            <button type="button" id ="altalmat" data-toggle="modal"  class="btn btn-primary">Aceptar</button>
                            <button type="button" id="cerraraltalmat" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--Modal Alta instructivo de ensayo-->
        <div class="modal" id="MymodalAltaie" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: #999">
                        <h5 class="modal-title">Alta Instructivo de Ensayo</h5>      
                    </div> 
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div style="margin-top: 5px" class="row">
                                <div style="margin-left:1px" class="col-md-1">
                                    <strong>Instructivo</strong>
                                </div>
                                <div class="col-md-2">
                                    <select id="comboensayo" name="comboensayo" class="Inputie" style="margin-left: 42px;width: 150px;">      
                                    </select>
                                </div>
                            </div>
                            <div style="margin-top: 20px" class="row">
                                <div style="margin-left:22px" class="col-md-1">
                                    <strong>Código</strong>
                                </div>
                                <div class="col-md-2">
                                    <input id="codie"  disabled= 'true' style="margin-left: 20px;width: 100px"></input>
                                </div>
                            </div>
                            
                        </div>
                        <div style="margin-top: 1px" class="row">
                            <div style="margin-top: 8px" class="row">
                                <div class="col-md-2" style="margin-left:10px">
                                    <strong style="margin-left:12px">Descripción</strong>   
                                </div>
                                <div class="col-md-2">
                                    <input id="descie"  style="margin-left:13px;width: 370px"></input>
                                </div>  
                            </div>

                            <div style="margin-top: 10px" class="row">
                                <div class="col-md-2" style="margin-left:10px">
                                    <strong style="margin-left:25px">Ubicación</strong>   
                                </div>
                                <div class="col-md-2">
                                    <input id="ubiie"  style="margin-left:13px;width: 370px"></input>
                                </div>  
                            </div>
                        </div>        
                    </div>
                    <div class="modal-footer">
                        <button type="button" id ="altaie" data-toggle="modal"  class="btn btn-primary">Aceptar</button>
                        <button type="button" id="cerrarie" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>


    
        </main>    
    </div>    

    <!-- Crearia el html para todos los documentos  -->
     
    <!-- fin  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
    </script>
    <script src="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
    
    <script src="./scripts/main.js"></script>
    <script src="/socket.io/socket.io.js" charset="utf-8"></script>
    <script src="consultap.js"></script>
    <!--script src="documento.js"></script-->
    <script src="principal.js"></script>
    <script type="text/javascript" languaje="javascript" src="./scripts/jquery.dataTables.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/jquery.dataTables.css"> 
    <script src="./scripts/dataTables.cellEdit.js"></script>
</body>
</html>
